{% extends "layout.html" %}
{% block content %}
<header>
    <h1>서울시 기온 예측</h1>
</header>
<main>
    <p>작년 서울시 기온을 바탕으로 선택한 날짜로부터 일주일간의 평균기온을 예측합니다.</p>
</main>
<section>
    <div class="form-container">
        <form method="post" action="{{ url_for('predict') }}">
            <input type="date" name="date" placeholder="날짜">
            <input type="submit" value="예측">
        </form>
    </div>
</section>
{% endblock %}
{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var today = new Date();
        var yyyy = today.getFullYear();
        var mm = String(today.getMonth() + 1).padStart(2, '0');
        var dd = String(today.getDate()).padStart(2, '0');
        var formattedDate = yyyy + '-' + mm + '-' + dd;
        var dateInput = document.querySelector('input[name="date"]');
        if (dateInput) {
            // 오늘 날짜를 기본값으로 설정
            dateInput.value = formattedDate;
            // min을 오늘 날짜의 다음날로 설정
            var tomorrow = new Date(today);
            tomorrow.setDate(today.getDate() + 1);
            var nextYyyy = tomorrow.getFullYear();
            var nextMm = String(tomorrow.getMonth() + 1).padStart(2, '0');
            var nextDd = String(tomorrow.getDate()).padStart(2, '0');
            var minDate = nextYyyy + '-' + nextMm + '-' + nextDd;
            dateInput.min = minDate;
        }
    });
</script>
{% endblock %}